version: '3.8'

services:
  genorai-cortex:
    build: .
    image: genorai-cortex:v2
    container_name: genorai-cortex-v2
    environment:
      - OLLAMA_BASE_URL=http://host.docker.internal:11434
      - OLLAMA_MODEL=deepseek-v3.1:671b-cloud
    volumes:
      - ./logs:/app/logs
      # Map data into container to allow loading new files
      - ./:/app/data
    extra_hosts:
      - "host.docker.internal:host-gateway"
    stdin_open: true # tty for interactive input
    tty: true        # tty for interactive input
    command: ["data/sales.csv"]
